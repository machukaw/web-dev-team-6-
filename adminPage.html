<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/adminPage/admin.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body>

  <div class="sidebar">
    <h2>Admin Panel</h2>
    <a href="#" class="active" onclick="showSection('dashboard')">Dashboard</a>
    <a href="#" onclick="showSection('users')">Manage Users</a>
    <a href="#" onclick="showSection('reports')">Reports</a>
    <button class="logout-btn" onclick="logout()">Logout<link src = "formenu.html"></button>
  </div>

  <div class="main">
    <!-- DASHBOARD -->
    <section id="dashboard" class="content-section active">
      <h1>Welcome to the Dashboard</h1>
      <div class="dashboard-cards">
        <div class="card">
          <h2>24</h2>
          <p>Total Users</p>
        </div>
        <div class="card">
          <h2>3</h2>
          <p>Admins</p>
        </div>
        <div class="card">
          <h2>7</h2>
          <p>New Signups</p>
        </div>
        <div class="card">
          <h2>5</h2>
          <p>Reports Generated</p>
        </div>
      </div>
      <canvas id="dashboardChart" width="400" height="200" style="margin-top: 40px;"></canvas>
    </section>

    <div class="tracker-leaderboard-wrapper">
     <!-- Admin Moderation Panel (Replaces Streak Tracker) -->
<div class="moderation-panel">
  <h3>Student Moderation Panel</h3>
  <div class="student-list">
    <!-- Repeat for 15 students -->
    <!-- Sample Student -->
    <div class="student-entry">
      <div class="student-profile">
        <div class="profile-icon">AB</div>
        <div class="student-info">
          <strong>Alex Brown</strong>
          <div class="course">BSCS</div>
        </div>
      </div>
      <div class="student-meta">
        <span class="reports">Reports: 2</span>
        <div class="actions">
          <button class="approve">✔</button>
          <button class="ban">✖</button>
        </div>
      </div>
    </div>

    <!-- More students -->
    <div class="student-entry"><div class="student-profile"><div class="profile-icon">CM</div><div class="student-info"><strong>Clara Mae</strong><div class="course">BSEd</div></div></div><div class="student-meta"><span class="reports">Reports: 1</span><div class="actions"><button class="approve">✔</button><button class="ban">✖</button></div></div></div>
    <div class="student-entry"><div class="student-profile"><div class="profile-icon">JD</div><div class="student-info"><strong>James Dale</strong><div class="course">BSIT</div></div></div><div class="student-meta"><span class="reports">Reports: 3</span><div class="actions"><button class="approve">✔</button><button class="ban">✖</button></div></div></div>
    <div class="student-entry"><div class="student-profile"><div class="profile-icon">KT</div><div class="student-info"><strong>Kim Torres</strong><div class="course">BSN</div></div></div><div class="student-meta"><span class="reports">Reports: 0</span><div class="actions"><button class="approve">✔</button><button class="ban">✖</button></div></div></div>
    <div class="student-entry"><div class="student-profile"><div class="profile-icon">ML</div><div class="student-info"><strong>Mark Leo</strong><div class="course">BSCE</div></div></div><div class="student-meta"><span class="reports">Reports: 2</span><div class="actions"><button class="approve">✔</button><button class="ban">✖</button></div></div></div>
    <div class="student-entry"><div class="student-profile"><div class="profile-icon">SA</div><div class="student-info"><strong>Sandy A.</strong><div class="course">BSA</div></div></div><div class="student-meta"><span class="reports">Reports: 4</span><div class="actions"><button class="approve">✔</button><button class="ban">✖</button></div></div></div>
    <div class="student-entry"><div class="student-profile"><div class="profile-icon">TR</div><div class="student-info"><strong>Tristan Ray</strong><div class="course">BSME</div></div></div><div class="student-meta"><span class="reports">Reports: 1</span><div class="actions"><button class="approve">✔</button><button class="ban">✖</button></div></div></div>
    <div class="student-entry"><div class="student-profile"><div class="profile-icon">VG</div><div class="student-info"><strong>Venus G.</strong><div class="course">BSIT</div></div></div><div class="student-meta"><span class="reports">Reports: 5</span><div class="actions"><button class="approve">✔</button><button class="ban">✖</button></div></div></div>
    <div class="student-entry"><div class="student-profile"><div class="profile-icon">LM</div><div class="student-info"><strong>Leo Martinez</strong><div class="course">BSBA</div></div></div><div class="student-meta"><span class="reports">Reports: 3</span><div class="actions"><button class="approve">✔</button><button class="ban">✖</button></div></div></div>
    <div class="student-entry"><div class="student-profile"><div class="profile-icon">NS</div><div class="student-info"><strong>Nina Santos</strong><div class="course">BSED</div></div></div><div class="student-meta"><span class="reports">Reports: 0</span><div class="actions"><button class="approve">✔</button><button class="ban">✖</button></div></div></div>
    <div class="student-entry"><div class="student-profile"><div class="profile-icon">JO</div><div class="student-info"><strong>Jake Ortega</strong><div class="course">BSHRM</div></div></div><div class="student-meta"><span class="reports">Reports: 1</span><div class="actions"><button class="approve">✔</button><button class="ban">✖</button></div></div></div>
    <div class="student-entry"><div class="student-profile"><div class="profile-icon">EZ</div><div class="student-info"><strong>Ella Z.</strong><div class="course">BSN</div></div></div><div class="student-meta"><span class="reports">Reports: 4</span><div class="actions"><button class="approve">✔</button><button class="ban">✖</button></div></div></div>
    <div class="student-entry"><div class="student-profile"><div class="profile-icon">RJ</div><div class="student-info"><strong>Rey J.</strong><div class="course">BSCS</div></div></div><div class="student-meta"><span class="reports">Reports: 2</span><div class="actions"><button class="approve">✔</button><button class="ban">✖</button></div></div></div>
    <div class="student-entry"><div class="student-profile"><div class="profile-icon">KL</div><div class="student-info"><strong>Karen L.</strong><div class="course">BSBA</div></div></div><div class="student-meta"><span class="reports">Reports: 0</span><div class="actions"><button class="approve">✔</button><button class="ban">✖</button></div></div></div>
  </div>
</div>

<!-- Banned Users Section -->
<div class="banned-users-section">
  <h2>Banned Students</h2>
  <div class="banned-users-list">
    <!-- One entry -->
    <div class="banned-user-card">
      <div class="user-info">
        <div class="profile-icon">VG</div>
        <div class="user-details">
          <strong>Venus G.</strong>
          <div class="ban-date">Banned: April 15, 2025 - 2:30 PM</div>
        </div>
      </div>
      <button class="unban-button">Unban</button>
    </div>

    <!-- Add more banned students -->
    <div class="banned-user-card"><div class="user-info"><div class="profile-icon">TR</div><div class="user-details"><strong>Tristan Ray</strong><div class="ban-date">Banned: April 15, 2025 - 1:45 PM</div></div></div><button class="unban-button">Unban</button></div>
    <div class="banned-user-card"><div class="user-info"><div class="profile-icon">ML</div><div class="user-details"><strong>Mark Leo</strong><div class="ban-date">Banned: April 14, 2025 - 4:20 PM</div></div></div><button class="unban-button">Unban</button></div>
    <div class="banned-user-card"><div class="user-info"><div class="profile-icon">JD</div><div class="user-details"><strong>James Dale</strong><div class="ban-date">Banned: April 13, 2025 - 3:05 PM</div></div></div><button class="unban-button">Unban</button></div>
    <div class="banned-user-card"><div class="user-info"><div class="profile-icon">SA</div><div class="user-details"><strong>Sandy A.</strong><div class="ban-date">Banned: April 13, 2025 - 10:30 AM</div></div></div><button class="unban-button">Unban</button></div>
    <div class="banned-user-card"><div class="user-info"><div class="profile-icon">EZ</div><div class="user-details"><strong>Ella Z.</strong><div class="ban-date">Banned: April 12, 2025 - 9:15 AM</div></div></div><button class="unban-button">Unban</button></div>
    <div class="banned-user-card"><div class="user-info"><div class="profile-icon">LM</div><div class="user-details"><strong>Leo Martinez</strong><div class="ban-date">Banned: April 11, 2025 - 8:50 PM</div></div></div><button class="unban-button">Unban</button></div>
    <div class="banned-user-card"><div class="user-info"><div class="profile-icon">JO</div><div class="user-details"><strong>Jake Ortega</strong><div class="ban-date">Banned: April 11, 2025 - 6:30 PM</div></div></div><button class="unban-button">Unban</button></div>
    <div class="banned-user-card"><div class="user-info"><div class="profile-icon">RJ</div><div class="user-details"><strong>Rey J.</strong><div class="ban-date">Banned: April 10, 2025 - 4:20 PM</div></div></div><button class="unban-button">Unban</button></div>
    <div class="banned-user-card"><div class="user-info"><div class="profile-icon">CM</div><div class="user-details"><strong>Clara Mae</strong><div class="ban-date">Banned: April 10, 2025 - 2:10 PM</div></div></div><button class="unban-button">Unban</button></div>
  </div>
</div>


      <!-- Leaderboard with Edit Feature -->
      <div class="leaderboard">
        <h3>Leaderboard</h3>
        <div class="leaderboard-list">
          <!-- You can copy/edit these to update names/courses/points -->
          <div class="leaderboard-entry" data-id="1">
            <div class="profile-circle">JD</div>
            <div class="info">
              <input type="text" class="name" value="John Doe" disabled />
              <input type="text" class="course" value="Math 101" disabled />
            </div>
            <div class="points-wrap">
              <input type="number" class="points" value="120" disabled /> pts
            </div>
            <button class="edit-btn" onclick="toggleEdit(this)">Edit</button>
          </div>
          <!-- 14 more -->
          <div class="leaderboard-entry" data-id="2"><div class="profile-circle">AM</div><div class="info"><input type="text" class="name" value="Alice Moore" disabled /><input type="text" class="course" value="Biology" disabled /></div><div class="points-wrap"><input type="number" class="points" value="115" disabled /> pts</div><button class="edit-btn" onclick="toggleEdit(this)">Edit</button></div>
          <div class="leaderboard-entry" data-id="3"><div class="profile-circle">RS</div><div class="info"><input type="text" class="name" value="Robert Smith" disabled /><input type="text" class="course" value="History" disabled /></div><div class="points-wrap"><input type="number" class="points" value="98" disabled /> pts</div><button class="edit-btn" onclick="toggleEdit(this)">Edit</button></div>
          <div class="leaderboard-entry" data-id="4"><div class="profile-circle">MG</div><div class="info"><input type="text" class="name" value="Maria Garcia" disabled /><input type="text" class="course" value="Physics" disabled /></div><div class="points-wrap"><input type="number" class="points" value="95" disabled /> pts</div><button class="edit-btn" onclick="toggleEdit(this)">Edit</button></div>
          <div class="leaderboard-entry" data-id="5"><div class="profile-circle">TW</div><div class="info"><input type="text" class="name" value="Tom Williams" disabled /><input type="text" class="course" value="Chemistry" disabled /></div><div class="points-wrap"><input type="number" class="points" value="93" disabled /> pts</div><button class="edit-btn" onclick="toggleEdit(this)">Edit</button></div>
          <div class="leaderboard-entry" data-id="6"><div class="profile-circle">CL</div><div class="info"><input type="text" class="name" value="Chloe Lee" disabled /><input type="text" class="course" value="English Lit" disabled /></div><div class="points-wrap"><input type="number" class="points" value="91" disabled /> pts</div><button class="edit-btn" onclick="toggleEdit(this)">Edit</button></div>
          <div class="leaderboard-entry" data-id="7"><div class="profile-circle">DM</div><div class="info"><input type="text" class="name" value="Daniel Miller" disabled /><input type="text" class="course" value="Comp Sci" disabled /></div><div class="points-wrap"><input type="number" class="points" value="89" disabled /> pts</div><button class="edit-btn" onclick="toggleEdit(this)">Edit</button></div>
          <div class="leaderboard-entry" data-id="8"><div class="profile-circle">SB</div><div class="info"><input type="text" class="name" value="Sophia Brown" disabled /><input type="text" class="course" value="Philosophy" disabled /></div><div class="points-wrap"><input type="number" class="points" value="87" disabled /> pts</div><button class="edit-btn" onclick="toggleEdit(this)">Edit</button></div>
          <div class="leaderboard-entry" data-id="9"><div class="profile-circle">LW</div><div class="info"><input type="text" class="name" value="Liam White" disabled /><input type="text" class="course" value="Economics" disabled /></div><div class="points-wrap"><input type="number" class="points" value="84" disabled /> pts</div><button class="edit-btn" onclick="toggleEdit(this)">Edit</button></div>
          <div class="leaderboard-entry" data-id="10"><div class="profile-circle">EZ</div><div class="info"><input type="text" class="name" value="Emma Zhao" disabled /><input type="text" class="course" value="Business" disabled /></div><div class="points-wrap"><input type="number" class="points" value="82" disabled /> pts</div><button class="edit-btn" onclick="toggleEdit(this)">Edit</button></div>
          <div class="leaderboard-entry" data-id="11"><div class="profile-circle">OG</div><div class="info"><input type="text" class="name" value="Oliver Green" disabled /><input type="text" class="course" value="Art" disabled /></div><div class="points-wrap"><input type="number" class="points" value="79" disabled /> pts</div><button class="edit-btn" onclick="toggleEdit(this)">Edit</button></div>
          <div class="leaderboard-entry" data-id="12"><div class="profile-circle">NB</div><div class="info"><input type="text" class="name" value="Noah Brown" disabled /><input type="text" class="course" value="Math 102" disabled /></div><div class="points-wrap"><input type="number" class="points" value="75" disabled /> pts</div><button class="edit-btn" onclick="toggleEdit(this)">Edit</button></div>
          <div class="leaderboard-entry" data-id="13"><div class="profile-circle">HJ</div><div class="info"><input type="text" class="name" value="Hannah Jones" disabled /><input type="text" class="course" value="Geography" disabled /></div><div class="points-wrap"><input type="number" class="points" value="73" disabled /> pts</div><button class="edit-btn" onclick="toggleEdit(this)">Edit</button></div>
          <div class="leaderboard-entry" data-id="14"><div class="profile-circle">CM</div><div class="info"><input type="text" class="name" value="Caleb Martin" disabled /><input type="text" class="course" value="Drama" disabled /></div><div class="points-wrap"><input type="number" class="points" value="71" disabled /> pts</div><button class="edit-btn" onclick="toggleEdit(this)">Edit</button></div>
          <div class="leaderboard-entry" data-id="15"><div class="profile-circle">ES</div><div class="info"><input type="text" class="name" value="Ella Scott" disabled /><input type="text" class="course" value="Env Sci" disabled /></div><div class="points-wrap"><input type="number" class="points" value="68" disabled /> pts</div><button class="edit-btn" onclick="toggleEdit(this)">Edit</button></div>
        </div>
      </div>
    </div>
    
    <script>
      function toggleEdit(button) {
        const entry = button.closest('.leaderboard-entry');
        const inputs = entry.querySelectorAll('input');
    
        if (button.textContent === 'Edit') {
          inputs.forEach(input => input.disabled = false);
          button.textContent = 'Save';
        } else {
          inputs.forEach(input => input.disabled = true);
          button.textContent = 'Edit';
    
          // Optionally log or save changes
          const name = entry.querySelector('.name').value;
          const course = entry.querySelector('.course').value;
          const points = entry.querySelector('.points').value;
          console.log(`Updated: ${name}, ${course}, ${points} pts`);
        }
      }
    </script>
    
    <style>
      .tracker-leaderboard-wrapper {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
        justify-content: center;
        font-family: Arial, sans-serif;
      }
    
      .streak-tracker {
        flex: 1 1 300px;
        max-width: 400px;
        background-color: #fff0f3;
        padding: 20px;
        border-radius: 20px;
        text-align: center;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      }
    
      .flame-circle {
        background-color: #c8102e;
        color: white;
        font-size: 32px;
        font-weight: bold;
        width: 80px;
        height: 80px;
        border-radius: 50%;
        margin: 0 auto 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        animation: idleBounce 2s infinite ease-in-out;
      }
    
      @keyframes idleBounce {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        25% { transform: translateY(-4px) rotate(-2deg); }
        50% { transform: translateY(2px) rotate(2deg); }
        75% { transform: translateY(-2px) rotate(-1deg); }
      }
    
      .week-days {
        display: flex;
        justify-content: center;
        gap: 6px;
        margin: 15px 0;
        flex-wrap: wrap;
      }
    
      .day {
        background-color: #eee;
        color: #999;
        padding: 8px;
        border-radius: 50%;
        width: 30px;
        height: 30px;
        font-weight: bold;
        font-size: 14px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
    
      .day.active {
        background-color: #c8102e;
        color: white;
      }
    
      .leaderboard {
        flex: 1 1 350px;
        max-width: 450px;
        background-color: #fff0f3;
        padding: 20px;
        border-radius: 20px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      }
    
      .leaderboard h3 {
        text-align: center;
        color: #c8102e;
      }
    
      .leaderboard-list {
        max-height: 400px;
        overflow-y: auto;
        margin-top: 15px;
      }
    
      .leaderboard-entry {
        display: flex;
        align-items: center;
        gap: 10px;
        background: #ffe6eb;
        padding: 10px;
        margin-bottom: 10px;
        border-radius: 12px;
      }
    
      .profile-circle {
        background: #c8102e;
        color: white;
        font-weight: bold;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
    
      .info {
        flex: 1;
        display: flex;
        flex-direction: column;
      }
    
      .info input {
        border: none;
        background: transparent;
        font-size: 14px;
        margin-bottom: 4px;
        padding: 2px 4px;
        font-weight: bold;
        color: #333;
      }
    
      .points-wrap {
        display: flex;
        align-items: center;
        font-weight: bold;
        color: #c8102e;
      }
    
      .points-wrap input {
        width: 50px;
        border: none;
        background: transparent;
        text-align: right;
        font-size: 14px;
        font-weight: bold;
        color: #c8102e;
      }
    
      .edit-btn {
        background-color: #c8102e;
        color: white;
        border: none;
        padding: 6px 10px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 12px;
      }
    
      @media (max-width: 768px) {
        .tracker-leaderboard-wrapper {
          flex-direction: column;
        }
      }
    </style>
    

    <!-- MANAGE USERS -->
    <section id="users" class="content-section">
      <h1>Manage Users</h1>
      <div class="user-form">
        <input type="text" id="newUsername" placeholder="Username" />
        <input type="text" id="newRole" placeholder="Role (e.g., Admin)" />
        <button onclick="addUser()">Add User</button>
      </div>
      <table class="user-table">
        <thead>
          <tr>
            <th>Username</th>
            <th>Role</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="userTableBody">
          <!-- Dynamic rows go here -->
        </tbody>
      </table>
    </section>
    

    <!-- REPORTS -->
    <section id="reports" class="content-section">
      <h1>Reports</h1>
      <p>Generate and view system reports here.</p>
    </section>
    <script src="js/landingPage/admin.js"></script>
  </div>

  <script>
    // Listen for all clicks on Unban buttons
    document.addEventListener("DOMContentLoaded", function () {
      const unbanButtons = document.querySelectorAll(".unban-button");
  
      unbanButtons.forEach(button => {
        button.addEventListener("click", function () {
          const card = this.closest(".banned-user-card");
  
          // Optional confirmation
          const name = card.querySelector("strong").innerText;
          const confirmUnban = confirm(`Unban ${name}?`);
          if (confirmUnban) {
            card.remove();
          }
        });
      });
    });
  </script>
  